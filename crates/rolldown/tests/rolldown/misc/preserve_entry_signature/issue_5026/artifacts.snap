---
source: crates/rolldown_testing/src/integration_test.rs
---
# Assets

## main.js

```js
import { t as createRouter } from "./router.js";

//#region main.js
await createRouter(() => import("./page.js")).isReady;
globalThis.result.push("ready");

//#endregion
```

## page.js

```js
import { n as foo } from "./router.js";

//#region page.mjs
globalThis.result = [foo];

//#endregion
```

## router.js

```js
//#region router.mjs
const createRouter = (page) => {
	let readyResolve;
	const isReady = new Promise((_r) => {
		readyResolve = _r;
	});
	page().then(() => readyResolve());
	return { isReady };
};
const foo = "foo";

//#endregion
export { foo as n, createRouter as t };
```
