---
source: crates/rolldown_testing/src/integration_test.rs
---
# Assets

## main.js

```js
import assert from "node:assert";
// HIDDEN [\0rolldown/runtime.js]
//#region foo.js
var foo_exports = /* @__PURE__ */ __exportAll({
	a: () => a,
	a1: () => a1,
	a2: () => "baz",
	a3: () => a3,
	b: () => b,
	bar: () => bar,
	c: () => c,
	d: () => d,
	default: () => baz,
	destructuring: () => destructuring,
	e: () => e,
	foo: () => foo$1,
	g: () => g,
	index: () => index,
	k: () => k,
	x: () => x,
	y: () => y,
	z: () => z
});
function foo$1() {}
var a, b, c, d, e, g, x, y, z, k, bar, baz, a1, index, a3, destructuring;
var init_foo = __esmMin((() => {
	[b] = [];
	[c = 1] = [];
	({e} = {});
	({f: g = 1} = {});
	({h: [x, {y}], i: {z}, j: {k} = { k: null }} = {
		h: [0, { y: null }],
		i: {}
	});
	bar = class {};
	baz = class {};
	if (globalVar) a1 = 1e3;
	switch (globalVar) {
		case true: break;
		default:
	}
	for (index = 0; index < 10; index++) a3 = 1e3;
	({destructuring} = { destructuring: "destructuring" });
}));
//#endregion
//#region main.js
globalThis.globalVar = true;
const foo = (init_foo(), __toCommonJS(foo_exports));
assert.strictEqual(foo.a1, 1e3);
assert.strictEqual(foo.a2, "baz");
assert.strictEqual(foo.a3, 1e3);
assert.strictEqual(foo.destructuring, "destructuring");
assert.strictEqual(foo.index, 10);
//#endregion

//# sourceMappingURL=main.js.map
```

# Sourcemap Visualizer

```
- ../foo.js
(11:0) "export function " --> (49:0) "function "
(11:16) "foo() " --> (49:9) "foo$1() "
(11:22) "{}\n" --> (49:17) "{}\n"
(1:2) "[" --> (52:0) "\t["
(1:3) "b] = " --> (52:2) "b] = "
(1:8) "[]" --> (52:7) "[]"
(1:10) ",\n" --> (52:9) ";\n"
(2:2) "[" --> (53:0) "\t["
(2:3) "c = " --> (53:2) "c = "
(2:7) "1] = " --> (53:6) "1] = "
(2:12) "[]" --> (53:11) "[]"
(2:14) ";\n" --> (53:13) ";\n"
(4:4) "e } = " --> (54:3) "e} = "
(4:10) "{}" --> (54:8) "{}"
(4:12) ",\n" --> (54:10) ");\n"
(5:4) "f: " --> (55:3) "f: "
(5:7) "g = " --> (55:6) "g = "
(5:11) "1 } = " --> (55:10) "1} = "
(5:17) "{}" --> (55:15) "{}"
(5:19) ";\n" --> (55:17) ");\n"
(7:2) "h: " --> (56:3) "h: "
(7:5) "[" --> (56:6) "["
(7:6) "x, { " --> (56:7) "x, "
(7:6) "x, { " --> (56:10) "{"
(7:11) "y }],\n" --> (56:11) "y}], "
(8:2) "i: " --> (56:16) "i: "
(8:5) "{ " --> (56:19) "{"
(8:7) "z },\n" --> (56:20) "z}, "
(9:2) "j: { " --> (56:24) "j: "
(9:2) "j: { " --> (56:27) "{"
(9:7) "k } = " --> (56:28) "k} = "
(9:13) "{ " --> (56:33) "{ "
(9:15) "k: " --> (56:35) "k: "
(9:18) "null }" --> (56:38) "null }"
(9:24) ",\n" --> (56:44) "} = "
(10:4) "{ " --> (56:48) "{\n"
(10:6) "h: " --> (57:2) "h: "
(10:9) "[" --> (57:5) "["
(10:10) "0, " --> (57:6) "0, "
(10:13) "{ " --> (57:9) "{ "
(10:15) "y: " --> (57:11) "y: "
(10:18) "null }" --> (57:14) "null }"
(10:24) "]" --> (57:20) "]"
(10:25) ", " --> (57:21) ",\n"
(10:27) "i: " --> (58:2) "i: "
(10:30) "{}" --> (58:5) "{}"
(10:32) " }" --> (58:7) "\n"
(10:34) ";\n" --> (59:2) ");\n"
(12:13) "bar " --> (60:0) "\tbar = "
(12:0) "export class bar " --> (60:7) "class "
(12:17) "{}\n" --> (60:13) "{};\n"
(13:21) "baz " --> (61:0) "\tbaz = "
(13:0) "export default class baz " --> (61:7) "class "
(13:25) "{}\n" --> (61:13) "{};\n"
(17:0) "if (" --> (62:0) "\tif ("
(17:4) "globalVar) {\n" --> (62:5) "globalVar)"
(18:6) "a1 = " --> (62:15) " a1 = "
(18:11) "1000;\n" --> (62:21) "1e3;\n"
(20:0) "switch (" --> (63:0) "\tswitch ("
(20:8) "globalVar) {\n" --> (63:9) "globalVar) "
(20:0) "switch (globalVar) {\n" --> (63:20) "{\n"
(21:2) "case " --> (64:2) "case "
(21:7) "true:\n" --> (64:7) "true:"
(23:4) "break;\n" --> (64:12) " break;\n"
(24:2) "default:\n" --> (65:2) "default:\n"
(26:0) "for (var " --> (67:0) "\tfor ("
(26:9) "index = " --> (67:6) "index = "
(26:17) "0; " --> (67:14) "0; "
(26:20) "index < " --> (67:17) "index < "
(26:28) "10; " --> (67:25) "10; "
(26:32) "index++) {\n" --> (67:29) "index++)"
(27:6) "a3 = " --> (67:37) " a3 = "
(27:11) "1000;\n" --> (67:43) "1e3;\n"
(30:6) "destructuring } = " --> (68:3) "destructuring} = "
(30:24) "{ " --> (68:20) "{ "
(30:26) "destructuring: " --> (68:22) "destructuring: "
(30:41) "'destructuring' }" --> (68:37) "\"destructuring\" }"
(30:58) ";\n" --> (68:54) ");\n"
- ../main.js
(0:0) "globalThis." --> (72:0) "globalThis."
(0:11) "globalVar = " --> (72:11) "globalVar = "
(0:23) "true;\n" --> (72:23) "true;\n"
(1:0) "const " --> (73:0) "const "
(1:6) "foo = require('./foo');\n" --> (73:6) "foo = ("
(1:6) "foo = require('./foo');\n" --> (73:13) "init_foo()"
(1:6) "foo = require('./foo');\n" --> (73:23) ", "
(1:6) "foo = require('./foo');\n" --> (73:25) "__toCommonJS("
(1:6) "foo = require('./foo');\n" --> (73:38) "foo_exports)"
(1:6) "foo = require('./foo');\n" --> (73:50) ");\n"
(4:0) "assert." --> (74:0) "assert."
(4:7) "strictEqual(" --> (74:7) "strictEqual("
(4:19) "foo." --> (74:19) "foo."
(4:23) "a1, " --> (74:23) "a1, "
(4:27) "1000)" --> (74:27) "1e3)"
(4:32) ";\n" --> (74:31) ";\n"
(5:0) "assert." --> (75:0) "assert."
(5:7) "strictEqual(" --> (75:7) "strictEqual("
(5:19) "foo." --> (75:19) "foo."
(5:23) "a2, " --> (75:23) "a2, "
(5:27) "'baz')" --> (75:27) "\"baz\")"
(5:33) ";\n" --> (75:33) ";\n"
(6:0) "assert." --> (76:0) "assert."
(6:7) "strictEqual(" --> (76:7) "strictEqual("
(6:19) "foo." --> (76:19) "foo."
(6:23) "a3, " --> (76:23) "a3, "
(6:27) "1000)" --> (76:27) "1e3)"
(6:32) ";\n" --> (76:31) ";\n"
(7:0) "assert." --> (77:0) "assert."
(7:7) "strictEqual(" --> (77:7) "strictEqual("
(7:19) "foo." --> (77:19) "foo."
(7:23) "destructuring, " --> (77:23) "destructuring, "
(7:38) "'destructuring')" --> (77:38) "\"destructuring\")"
(7:54) ";\n" --> (77:54) ";\n"
(8:0) "assert." --> (78:0) "assert."
(8:7) "strictEqual(" --> (78:7) "strictEqual("
(8:19) "foo." --> (78:19) "foo."
(8:23) "index, " --> (78:23) "index, "
(8:30) "10)" --> (78:30) "10)"
(8:33) ";\n" --> (78:33) ";\n"
```
