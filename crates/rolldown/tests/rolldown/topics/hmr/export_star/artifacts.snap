---
source: crates/rolldown_testing/src/integration_test.rs
---
# Assets

## main.js

```js
// HIDDEN [rolldown:runtime]
// HIDDEN [rolldown:hmr]
//#region sub/foo.js
var foo_exports = {};
__export(foo_exports, {
	foo: () => foo,
	named: () => named$2
});
const foo_hot = __rolldown_runtime__.createModuleHotContext("sub/foo.js");
__rolldown_runtime__.registerModule("sub/foo.js", { exports: foo_exports });
const foo = "foo";
const named$2 = "foo";

//#endregion
//#region sub/bar.js
var bar_exports = {};
__export(bar_exports, {
	bar: () => bar,
	named: () => named$1
});
const bar_hot = __rolldown_runtime__.createModuleHotContext("sub/bar.js");
__rolldown_runtime__.registerModule("sub/bar.js", { exports: bar_exports });
const bar = "bar";
const named$1 = "bar";

//#endregion
//#region sub/named.js
var named_exports = {};
__export(named_exports, { named: () => named });
const named_hot = __rolldown_runtime__.createModuleHotContext("sub/named.js");
__rolldown_runtime__.registerModule("sub/named.js", { exports: named_exports });
const named = "named";

//#endregion
//#region sub/index.js
var sub_exports = {};
__export(sub_exports, {
	bar: () => bar,
	foo: () => foo,
	named: () => named
});
const sub_hot = __rolldown_runtime__.createModuleHotContext("sub/index.js");
__rolldown_runtime__.registerModule("sub/index.js", { exports: sub_exports });

//#endregion
//#region hmr.js
var hmr_exports = {};
const hmr_hot = __rolldown_runtime__.createModuleHotContext("hmr.js");
__rolldown_runtime__.registerModule("hmr.js", { exports: hmr_exports });
console.log(foo, bar);
hmr_hot.accept();

//#endregion
//#region main.js
var main_exports = {};
const main_hot = __rolldown_runtime__.createModuleHotContext("main.js");
__rolldown_runtime__.registerModule("main.js", { exports: main_exports });
text(".app", "hello");
function text(el, text$1) {
	console.log(el, text$1);
}

//#endregion
```
# HMR Step 0

## Code

```js
//#region hmr.js
import * as import_node_assert_0 from "node:assert";
var init_hmr_0 = __rolldown_runtime__.createEsmInitializer((function() {
	try {
		var __rolldown_exports__ = {};
		__rolldown_runtime__.__export(__rolldown_exports__, {});
		__rolldown_runtime__.registerModule("hmr.js", { exports: __rolldown_exports__ });
		const hot_hmr = __rolldown_runtime__.createModuleHotContext("hmr.js");
		var import_sub_0 = __rolldown_runtime__.loadExports("sub/index.js");
		import_node_assert_0.default.strictEqual(import_sub_0.foo, "foo");
		import_node_assert_0.default.strictEqual(import_sub_0.bar, "bar");
		import_node_assert_0.default.strictEqual(import_sub_0.named, "named");
		hot_hmr.accept();
	} finally {}
}));

//#endregion
init_hmr_0()
__rolldown_runtime__.applyUpdates(['hmr.js']);
```
## Meta

- update type: patch
### Hmr Boundaries

- boundary: hmr.js, accepted_via: hmr.js
