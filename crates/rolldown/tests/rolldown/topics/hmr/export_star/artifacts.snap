---
source: crates/rolldown_testing/src/integration_test.rs
---
# Assets

## main.js

```js
// HIDDEN [rolldown:runtime]
// HIDDEN [rolldown:hmr]
//#region sub/foo.js
var foo_exports = /* @__PURE__ */ __exportAll({
	foo: () => foo,
	named: () => named$2
});
const foo_hot = __rolldown_runtime__.createModuleHotContext("$CWD/sub/foo.js");
__rolldown_runtime__.registerModule("$CWD/sub/foo.js", { exports: foo_exports });
const foo = "foo";
const named$2 = "foo";

//#endregion
//#region sub/bar.js
var bar_exports = /* @__PURE__ */ __exportAll({
	bar: () => bar,
	named: () => named$1
});
const bar_hot = __rolldown_runtime__.createModuleHotContext("$CWD/sub/bar.js");
__rolldown_runtime__.registerModule("$CWD/sub/bar.js", { exports: bar_exports });
const bar = "bar";
const named$1 = "bar";

//#endregion
//#region sub/named.js
var named_exports = /* @__PURE__ */ __exportAll({ named: () => named });
const named_hot = __rolldown_runtime__.createModuleHotContext("$CWD/sub/named.js");
__rolldown_runtime__.registerModule("$CWD/sub/named.js", { exports: named_exports });
const named = "named";

//#endregion
//#region sub/index.js
var sub_exports = /* @__PURE__ */ __exportAll({
	bar: () => bar,
	foo: () => foo,
	named: () => named
});
const sub_hot = __rolldown_runtime__.createModuleHotContext("$CWD/sub/index.js");
__rolldown_runtime__.registerModule("$CWD/sub/index.js", { exports: sub_exports });

//#endregion
//#region hmr.js
var hmr_exports = {};
const hmr_hot = __rolldown_runtime__.createModuleHotContext("$CWD/hmr.js");
__rolldown_runtime__.registerModule("$CWD/hmr.js", { exports: hmr_exports });
console.log(foo, bar);
hmr_hot.accept();

//#endregion
//#region main.js
var main_exports = {};
const main_hot = __rolldown_runtime__.createModuleHotContext("$CWD/main.js");
__rolldown_runtime__.registerModule("$CWD/main.js", { exports: main_exports });
text(".app", "hello");
function text(el, text$1) {
	console.log(el, text$1);
}

//#endregion
```

# HMR Step 0

## Code

```js
//#region hmr.js
import * as import_node_assert_00 from "node:assert";
var init_hmr_0 = __rolldown_runtime__.createEsmInitializer((function() {
	try {
		var __rolldown_exports__ = __rolldown_runtime__.__exportAll({});
		__rolldown_runtime__.registerModule("$CWD/hmr.js", { exports: __rolldown_exports__ });
		const hot_hmr = __rolldown_runtime__.createModuleHotContext("$CWD/hmr.js");
		var import_sub_01 = __rolldown_runtime__.loadExports("$CWD/sub/index.js");
		import_node_assert_00.default.strictEqual(import_sub_01.foo, "foo");
		import_node_assert_00.default.strictEqual(import_sub_01.bar, "bar");
		import_node_assert_00.default.strictEqual(import_sub_01.named, "named");
		hot_hmr.accept();
	} finally {}
}));

//#endregion
init_hmr_0()
__rolldown_runtime__.applyUpdates([['$CWD/hmr.js', '$CWD/hmr.js']]);
```

## Meta

- update type: patch

### Hmr Boundaries

- boundary: $CWD/hmr.js, accepted_via: $CWD/hmr.js
