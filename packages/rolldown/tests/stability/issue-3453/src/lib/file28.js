var t,e,r,n=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(t,e)=>function(){return e||(0,t[s(t)[0]])((e={exports:{}}).exports,e),e.exports;},f=(t,e,r,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let o of s(e))l.call(t,o)||o===r||i(t,o,{get:()=>e[o],enumerable:!(n=a(e,o))||n.enumerable});return t;},h=(t,e,r)=>(r=null!=t?n(o(t)):{},f(// If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    !e&&t&&t.__esModule?r:i(r,"default",{value:t,enumerable:!0}),t)),c=u({"../../../node_modules/dataloader/index.js"(t,e){var r,n=/* @__PURE__ */function(){function t(t,e){if("function"!=typeof t)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._maxBatchSize=function(t){if(!(!t||!1!==t.batch))return 1;var e=t&&t.maxBatchSize;if(void 0===e)return 1/0;if("number"!=typeof e||e<1)throw TypeError("maxBatchSize must be a positive number: "+e);return e;}(e),this._batchScheduleFn=function(t){var e=t&&t.batchScheduleFn;if(void 0===e)return i;if("function"!=typeof e)throw TypeError("batchScheduleFn must be a function: "+e);return e;}(e),this._cacheKeyFn=function(t){var e=t&&t.cacheKeyFn;if(void 0===e)return function(t){return t;};if("function"!=typeof e)throw TypeError("cacheKeyFn must be a function: "+e);return e;}(e),this._cacheMap=function(t){if(!(!t||!1!==t.cache))return null;var e=t&&t.cacheMap;if(void 0===e)return /* @__PURE__ */new Map;if(null!==e){var r=["get","set","delete","clear"].filter(function(t){return e&&"function"!=typeof e[t];});if(0!==r.length)throw TypeError("Custom cacheMap missing methods: "+r.join(", "));}return e;}(e),this._batch=null,this.name=e&&e.name?e.name:null;}var e=t.prototype;return e.load=function(t){if(null==t)throw TypeError("The loader.load() function must be called with a value, but got: "+String(t)+".");var e=function(t){var e=t._batch;if(null!==e&&!e.hasDispatched&&e.keys.length<t._maxBatchSize)return e;var r={hasDispatched:!1,keys:[],callbacks:[]};return t._batch=r,t._batchScheduleFn(function(){(function(t,e){var r;if(e.hasDispatched=!0,0===e.keys.length){s(e);return;}try{r=t._batchLoadFn(e.keys);}catch(r){return a(t,e,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(r)+"."));}if(!r||"function"!=typeof r.then)return a(t,e,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(r)+"."));r.then(function(t){if(!o(t))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(t)+".");if(t.length!==e.keys.length)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(e.keys)+"\n\nValues:\n"+String(t));s(e);for(var r=0;r<e.callbacks.length;r++){var n=t[r];n instanceof Error?e.callbacks[r].reject(n):e.callbacks[r].resolve(n);}}).catch(function(r){a(t,e,r);});})(t,r);}),r;}(this),r=this._cacheMap,n=this._cacheKeyFn(t);if(r){var i=r.get(n);if(i){var l=e.cacheHits||(e.cacheHits=[]);return new Promise(function(t){l.push(function(){t(i);});});}}e.keys.push(t);var u=new Promise(function(t,r){e.callbacks.push({resolve:t,reject:r});});return r&&r.set(n,u),u;},e.loadMany=function(t){if(!o(t))throw TypeError("The loader.loadMany() function must be called with Array<key> but got: "+t+".");for(var e=[],r=0;r<t.length;r++)e.push(this.load(t[r]).catch(function(t){return t;}));return Promise.all(e);},e.clear=function(t){var e=this._cacheMap;if(e){var r=this._cacheKeyFn(t);e.delete(r);}return this;},e.clearAll=function(){var t=this._cacheMap;return t&&t.clear(),this;},e.prime=function(t,e){var r=this._cacheMap;if(r){var n,i=this._cacheKeyFn(t);void 0===r.get(i)&&(e instanceof Error?(n=Promise.reject(e)).catch(function(){}):n=Promise.resolve(e),r.set(i,n));}return this;},t;}(),i="object"==typeof process&&"function"==typeof process.nextTick?function(t){r||(r=Promise.resolve()),r.then(function(){process.nextTick(t);});}:"function"==typeof setImmediate?function(t){setImmediate(t);}:function(t){setTimeout(t);};function a(t,e,r){s(e);for(var n=0;n<e.keys.length;n++)t.clear(e.keys[n]),e.callbacks[n].reject(r);}function s(t){if(t.cacheHits)for(var e=0;e<t.cacheHits.length;e++)t.cacheHits[e]();}function o(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&(0===t.length||t.length>0&&Object.prototype.hasOwnProperty.call(t,t.length-1));}e.exports=n;}}),p=u({"../../../node_modules/splaytree/dist/splay.js"(t,e){var r;r=function(){var t=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null;};function e(t,e){return t>e?1:t<e?-1:0;}function r(e,r,n){for(var i=new t(null,null),a=i,s=i;;){var o=n(e,r.key);if(o<0){if(null===r.left)break;if(0>n(e,r.left.key)){var l=r.left;if(r.left=l.right,l.right=r,null===(r=l).left)break;}s.left=r,s=r,r=r.left;}else if(o>0){if(null===r.right)break;if(n(e,r.right.key)>0){var l=r.right;if(r.right=l.left,l.left=r,null===(r=l).right)break;}a.right=r,a=r,r=r.right;}else break;}return a.right=r.left,s.left=r.right,r.left=i.right,r.right=i.left,r;}function n(e,n,i,a){var s=new t(e,n);if(null===i)return s.left=s.right=null,s;i=r(e,i,a);var o=a(e,i.key);return o<0?(s.left=i.left,s.right=i,i.left=null):o>=0&&(s.right=i.right,s.left=i,i.right=null),s;}function i(t,e,n){var i=null,a=null;if(e){e=r(t,e,n);var s=n(e.key,t);0===s?(i=e.left,a=e.right):s<0?(a=e.right,e.right=null,i=e):(i=e.left,e.left=null,a=e);}return{left:i,right:a};}return /** @class */function(){function a(t){void 0===t&&(t=e),this._root=null,this._size=0,this._comparator=t;}return a.prototype.insert=function(t,e){return this._size++,this._root=n(t,e,this._root,this._comparator);},a.prototype.add=function(e,n){var i=new t(e,n);null===this._root&&(i.left=i.right=null,this._size++,this._root=i);var a=this._comparator,s=r(e,this._root,a),o=a(e,s.key);return 0===o?this._root=s:(o<0?(i.left=s.left,i.right=s,s.left=null):o>0&&(i.right=s.right,i.left=s,s.right=null),this._size++,this._root=i),this._root;},a.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator);},a.prototype._remove=function(t,e,n){var i;return null===e?null:(e=r(t,e,n),0===n(t,e.key))?(null===e.left?i=e.right:(i=r(t,e.left,n)).right=e.right,this._size--,i):e;},a.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=r(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data};}return null;},a.prototype.findStatic=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return e;e=n<0?e.left:e.right;}return null;},a.prototype.find=function(t){return this._root&&(this._root=r(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root;},a.prototype.contains=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right;}return!1;},a.prototype.forEach=function(t,e){for(var r=this._root,n=[],i=!1;!i;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),t.call(e,r),r=r.right):i=!0;return this;},a.prototype.range=function(t,e,r,n){for(var i=[],a=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(a((s=i.pop()).key,e)>0)break;if(a(s.key,t)>=0&&r.call(n,s))return this;s=s.right;}return this;},a.prototype.keys=function(){var t=[];return this.forEach(function(e){var r=e.key;return t.push(r);}),t;},a.prototype.values=function(){var t=[];return this.forEach(function(e){var r=e.data;return t.push(r);}),t;},a.prototype.min=function(){return this._root?this.minNode(this._root).key:null;},a.prototype.max=function(){return this._root?this.maxNode(this._root).key:null;},a.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t;},a.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t;},a.prototype.at=function(t){for(var e=this._root,r=!1,n=0,i=[];!r;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),n===t)return e;n++,e=e.right;}else r=!0;return null;},a.prototype.next=function(t){var e=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r;}for(var n=this._comparator;e;){var i=n(t.key,e.key);if(0===i)break;i<0?(r=e,e=e.left):e=e.right;}return r;},a.prototype.prev=function(t){var e=this._root,r=null;if(null!==t.left){for(r=t.left;r.right;)r=r.right;return r;}for(var n=this._comparator;e;){var i=n(t.key,e.key);if(0===i)break;i<0?e=e.left:(r=e,e=e.right);}return r;},a.prototype.clear=function(){return this._root=null,this._size=0,this;},a.prototype.toList=function(){return function(e){for(var r=e,n=[],i=!1,a=new t(null,null),s=a;!i;)r?(n.push(r),r=r.left):n.length>0?r=(r=s=s.next=n.pop()).right:i=!0;return s.next=null,a.next;}(this._root);},a.prototype.load=function(e,r,n){void 0===r&&(r=[]),void 0===n&&(n=!1);var i=e.length,a=this._comparator;if(n&&function t(e,r,n,i,a){if(!(n>=i)){for(var s=e[n+i>>1],o=n-1,l=i+1;;){do o++;while(0>a(e[o],s))do l--;while(a(e[l],s)>0)if(o>=l)break;var u=e[o];e[o]=e[l],e[l]=u,u=r[o],r[o]=r[l],r[l]=u;}t(e,r,n,l,a),t(e,r,l+1,i,a);}}(e,r,0,i-1,a),null===this._root)this._root=function e(r,n,i,a){var s=a-i;if(s>0){var o=i+Math.floor(s/2),l=r[o],u=n[o],f=new t(l,u);return f.left=e(r,n,i,o),f.right=e(r,n,o+1,a),f;}return null;}(e,r,0,i),this._size=i;else{var s=function(e,r,n){for(var i=new t(null,null),a=i,s=e,o=r;null!==s&&null!==o;)0>n(s.key,o.key)?(a.next=s,s=s.next):(a.next=o,o=o.next),a=a.next;return null!==s?a.next=s:null!==o&&(a.next=o),i.next;}(this.toList(),function(e,r){for(var n=new t(null,null),i=n,a=0;a<e.length;a++)i=i.next=new t(e[a],r[a]);return i.next=null,n.next;}(e,r),a);i=this._size+i,this._root=function t(e,r,n){var i=n-r;if(i>0){var a=r+Math.floor(i/2),s=t(e,r,a),o=e.head;return o.left=s,e.head=e.head.next,o.right=t(e,a+1,n),o;}return null;}({head:s},0,i);}return this;},a.prototype.isEmpty=function(){return null===this._root;},Object.defineProperty(a.prototype,"size",{get:function(){return this._size;},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){return this._root;},enumerable:!0,configurable:!0}),a.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key);});var e=[];return function t(e,r,n,i,a){if(e){i(""+r+(n?"└── ":"├── ")+a(e)+"\n");var s=r+(n?"    ":"│   ");e.left&&t(e.left,s,!1,i,a),e.right&&t(e.right,s,!0,i,a);}}(this._root,"",!0,function(t){return e.push(t);},t),e.join("");},a.prototype.update=function(t,e,a){var s,o,l=this._comparator,u=i(t,this._root,l),f=u.left,h=u.right;0>l(t,e)?h=n(e,a,h,l):f=n(e,a,f,l),this._root=(s=f,null===(o=h)?s:(null===s||((o=r(s.key,o,l)).left=s),o));},a.prototype.split=function(t){return i(t,this._root,this._comparator);},a.prototype[Symbol.iterator]=function(){var t,e,r;return function(t,e){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1];},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this;}),a;function o(a){return function(o){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue;}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break;}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break;}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break;}i[2]&&s.ops.pop(),s.trys.pop();continue;}a=e.call(t,s);}catch(t){a=[6,t],n=0;}finally{r=i=0;}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0};}([a,o]);};}}(this,function(n){switch(n.label){case 0:t=this._root,e=[],r=!1,n.label=1;case 1:if(r)return[3,6];if(!(null!==t))return[3,2];return e.push(t),t=t.left,[3,5];case 2:if(!(0!==e.length))return[3,4];return[4,t=e.pop()];case 3:return n.sent(),t=t.right,[3,5];case 4:r=!0,n.label=5;case 5:return[3,1];case 6:return[2];}});},a;}();},"object"==typeof t&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.SplayTree=r();}}),d=u({"../../../node_modules/whatwg-mimetype/lib/utils.js"(t){t.removeLeadingAndTrailingHTTPWhitespace=t=>t.replace(/^[ \t\n\r]+/u,"").replace(/[ \t\n\r]+$/u,""),t.removeTrailingHTTPWhitespace=t=>t.replace(/[ \t\n\r]+$/u,""),t.isHTTPWhitespaceChar=t=>" "===t||"	"===t||"\n"===t||"\r"===t,t.solelyContainsHTTPTokenCodePoints=t=>/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(t),t.soleyContainsHTTPQuotedStringTokenCodePoints=t=>/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(t),t.asciiLowercase=t=>t.replace(/[A-Z]/ug,t=>t.toLowerCase()),t.collectAnHTTPQuotedString=(t,e)=>{let r="";for(e++;;){for(;e<t.length&&'"'!==t[e]&&"\\"!==t[e];)r+=t[e],++e;if(e>=t.length)break;let n=t[e];if(++e,"\\"===n){if(e>=t.length){r+="\\";break;}r+=t[e],++e;}else break;}return[r,e];};}}),g=u({"../../../node_modules/whatwg-mimetype/lib/mime-type-parameters.js"(t,e){var{asciiLowercase:r,solelyContainsHTTPTokenCodePoints:n,soleyContainsHTTPQuotedStringTokenCodePoints:i}=d();e.exports=class{get size(){return this._map.size;}get(t){return t=r(String(t)),this._map.get(t);}has(t){return t=r(String(t)),this._map.has(t);}set(t,e){if(t=r(String(t)),e=String(e),!n(t))throw Error(`Invalid MIME type parameter name "${t}": only HTTP token code points are valid.`);if(!i(e))throw Error(`Invalid MIME type parameter value "${e}": only HTTP quoted-string token code points are valid.`);return this._map.set(t,e);}clear(){this._map.clear();}delete(t){return t=r(String(t)),this._map.delete(t);}forEach(t,e){this._map.forEach(t,e);}keys(){return this._map.keys();}values(){return this._map.values();}entries(){return this._map.entries();}[Symbol.iterator](){return this._map[Symbol.iterator]();}constructor(t){this._map=t;}};}}),v=u({"../../../node_modules/whatwg-mimetype/lib/parser.js"(t,e){var{removeLeadingAndTrailingHTTPWhitespace:r,removeTrailingHTTPWhitespace:n,isHTTPWhitespaceChar:i,solelyContainsHTTPTokenCodePoints:a,soleyContainsHTTPQuotedStringTokenCodePoints:s,asciiLowercase:o,collectAnHTTPQuotedString:l}=d();e.exports=t=>{t=r(t);let e=0,u="";for(;e<t.length&&"/"!==t[e];)u+=t[e],++e;if(0===u.length||!a(u)||e>=t.length)return null;++e;let f="";for(;e<t.length&&";"!==t[e];)f+=t[e],++e;if(0===(f=n(f)).length||!a(f))return null;let h={type:o(u),subtype:o(f),parameters:/* @__PURE__ */new Map};for(;e<t.length;){for(++e;i(t[e]);)++e;let r="";for(;e<t.length&&";"!==t[e]&&"="!==t[e];)r+=t[e],++e;if(r=o(r),e<t.length){if(";"===t[e])continue;++e;}let u=null;if('"'===t[e])for([u,e]=l(t,e);e<t.length&&";"!==t[e];)++e;else{for(u="";e<t.length&&";"!==t[e];)u+=t[e],++e;if(""===(u=n(u)))continue;}r.length>0&&a(r)&&s(u)&&!h.parameters.has(r)&&h.parameters.set(r,u);}return h;};}}),y=u({"../../../node_modules/whatwg-mimetype/lib/serializer.js"(t,e){var{solelyContainsHTTPTokenCodePoints:r}=d();e.exports=t=>{let e=`${t.type}/${t.subtype}`;if(0===t.parameters.size)return e;for(let[n,i]of t.parameters)e+=";"+n+"=",r(i)&&0!==i.length||(i=i.replace(/(["\\])/ug,"\\$1"),i=`"${i}"`),e+=i;return e;};}}),m=u({"../../../node_modules/whatwg-mimetype/lib/mime-type.js"(t,e){var r=g(),n=v(),i=y(),{asciiLowercase:a,solelyContainsHTTPTokenCodePoints:s}=d();e.exports=class{static parse(t){try{return new this(t);}catch(t){return null;}}get essence(){return`${this.type}/${this.subtype}`;}get type(){return this._type;}set type(t){if(0===(t=a(String(t))).length)throw Error("Invalid type: must be a non-empty string");if(!s(t))throw Error(`Invalid type ${t}: must contain only HTTP token code points`);this._type=t;}get subtype(){return this._subtype;}set subtype(t){if(0===(t=a(String(t))).length)throw Error("Invalid subtype: must be a non-empty string");if(!s(t))throw Error(`Invalid subtype ${t}: must contain only HTTP token code points`);this._subtype=t;}get parameters(){return this._parameters;}toString(){return i(this);}isJavaScript({prohibitParameters:t=!1}={}){switch(this._type){case"text":switch(this._subtype){case"ecmascript":case"javascript":case"javascript1.0":case"javascript1.1":case"javascript1.2":case"javascript1.3":case"javascript1.4":case"javascript1.5":case"jscript":case"livescript":case"x-ecmascript":case"x-javascript":return!t||0===this._parameters.size;default:return!1;}case"application":switch(this._subtype){case"ecmascript":case"javascript":case"x-ecmascript":case"x-javascript":return!t||0===this._parameters.size;default:return!1;}default:return!1;}}isXML(){return"xml"===this._subtype&&("text"===this._type||"application"===this._type)||this._subtype.endsWith("+xml");}isHTML(){return"html"===this._subtype&&"text"===this._type;}constructor(t){t=String(t);let e=n(t);if(null===e)throw Error(`Could not parse MIME type string "${t}"`);this._type=e.type,this._subtype=e.subtype,this._parameters=new r(e.parameters);}};}}),w=h(c());// src/code-generation/components/cms/bundled/assert.ts
function b(t,...e){if(!t)throw Error("Assertion Error"+(e.length>0?": "+e.join(" "):""));}function _(t){throw Error(`Unexpected value: ${t}`);}// src/code-generation/components/cms/bundled/BufferReader.ts
var k={Uint8:1,Uint16:2,Uint32:4,BigUint64:8,Int8:1,Int16:2,Int32:4,BigInt64:8,Float32:4,Float64:8},I=class{getOffset(){return this.offset;}ensureBufferLength(t){let e=this.buffer.byteLength;if(!(this.offset+t<=e))throw Error("Reading out of bounds");}readUint8(){let t=k.Uint8;this.ensureBufferLength(t);let e=this.view.getUint8(this.offset);return this.offset+=t,e;}readUint16(){let t=k.Uint16;this.ensureBufferLength(t);let e=this.view.getUint16(this.offset);return this.offset+=t,e;}readUint32(){let t=k.Uint32;this.ensureBufferLength(t);let e=this.view.getUint32(this.offset);return this.offset+=t,e;}readUint64(){let t=this.readBigUint64();return Number(t);}readBigUint64(){let t=k.BigUint64;this.ensureBufferLength(t);let e=this.view.getBigUint64(this.offset);return this.offset+=t,e;}readInt8(){let t=k.Int8;this.ensureBufferLength(t);let e=this.view.getInt8(this.offset);return this.offset+=t,e;}readInt16(){let t=k.Int16;this.ensureBufferLength(t);let e=this.view.getInt16(this.offset);return this.offset+=t,e;}readInt32(){let t=k.Int32;this.ensureBufferLength(t);let e=this.view.getInt32(this.offset);return this.offset+=t,e;}readInt64(){let t=this.readBigInt64();return Number(t);}readBigInt64(){let t=k.BigInt64;this.ensureBufferLength(t);let e=this.view.getBigInt64(this.offset);return this.offset+=t,e;}readFloat32(){let t=k.Float32;this.ensureBufferLength(t);let e=this.view.getFloat32(this.offset);return this.offset+=t,e;}readFloat64(){let t=k.Float64;this.ensureBufferLength(t);let e=this.view.getFloat64(this.offset);return this.offset+=t,e;}readBuffer(t){let e=this.offset,r=e+t,n=this.buffer.slice(e,r);return this.offset=r,n;}readString(){let t=this.readUint32(),e=this.readBuffer(t);return this.decoder.decode(e);}readJson(){let t=this.readString();return JSON.parse(t);}constructor(t){this.buffer=t,this.offset=0,this.view=new DataView(this.buffer),this.decoder=new TextDecoder;}};// src/code-generation/components/cms/bundled/DatabaseDictionaryIndex.ts
import{ControlType as U}from"framer";// src/utils/typeChecks.ts
function S(t){return Number.isFinite(t);}function x(t){return void 0===t;}function E(t){return null===t;}function B(t){return null==t;}// ../../../node_modules/fflate/esm/browser.js
var T=Uint8Array,L=Uint16Array,M=Int32Array,A=new T([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,/* unused */0,0,/* impossible */0]),C=new T([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,/* unused */0,0]),F=new T([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=function(t,e){for(var r=new L(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new M(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i};},P=j(A,2),D=P.b,N=P.r;D[28]=258,N[258]=28;var O=j(C,0),$=O.b,q=O.r,z=new L(32768);for(e=0;e<32768;++e)t=(61680&(t=(52428&(t=(43690&e)>>1|(21845&e)<<1))>>2|(13107&t)<<2))>>4|(3855&t)<<4,z[e]=((65280&t)>>8|(255&t)<<8)>>1;var R=function(t,e,r){for(var n,i=t.length,a=0,s=new L(e);a<i;++a)t[a]&&++s[t[a]-1];var o=new L(e);for(a=1;a<e;++a)o[a]=o[a-1]+s[a-1]<<1;if(r){n=new L(1<<e);var l=15-e;for(a=0;a<i;++a)if(t[a])for(var u=a<<4|t[a],f=e-t[a],h=o[t[a]-1]++<<f,c=h|(1<<f)-1;h<=c;++h)n[z[h]>>l]=u;}else for(a=0,n=new L(i);a<i;++a)t[a]&&(n[a]=z[o[t[a]-1]++]>>15-t[a]);return n;},H=new T(288);for(e=0;e<144;++e)H[e]=8;for(e=144;e<256;++e)H[e]=9;for(e=256;e<280;++e)H[e]=7;for(e=280;e<288;++e)H[e]=8;var J=new T(32);for(e=0;e<32;++e)J[e]=5;var W=/* @__PURE__ */R(H,9,0),G=/* @__PURE__ */R(H,9,1),K=/* @__PURE__ */R(J,5,0),V=/* @__PURE__ */R(J,5,1),X=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e;},Q=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(7&e)&r;},Z=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(7&e);},Y=function(t){return(t+7)/8|0;},tt=function(t,e,r){return(null==e||e<0)&&(e=0),(null==r||r>t.length)&&(r=t.length),new T(t.subarray(e,r));},te=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],tr=function(t,e,r){var n=Error(e||te[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,tr),!r)throw n;return n;},tn=function(t,e,r,n){var i=t.length,a=n?n.length:0;if(!i||e.f&&!e.l)return r||new T(0);var s=!r,o=s||2!=e.i,l=e.i;s&&(r=new T(3*i));var u=function(t){var e=r.length;if(t>e){var n=new T(Math.max(2*e,t));n.set(r),r=n;}},f=e.f||0,h=e.p||0,c=e.b||0,p=e.l,d=e.d,g=e.m,v=e.n,y=8*i;do{if(!p){f=Q(t,h,1);var m=Q(t,h+1,3);if(h+=3,m){if(1==m)p=G,d=V,g=9,v=5;else if(2==m){var w=Q(t,h,31)+257,b=Q(t,h+10,15)+4,_=w+Q(t,h+5,31)+1;h+=14;for(var k=new T(_),I=new T(19),U=0;U<b;++U)I[F[U]]=Q(t,h+3*U,7);h+=3*b;for(var S=X(I),x=(1<<S)-1,E=R(I,S,1),U=0;U<_;){var B=E[Q(t,h,x)];h+=15&B;var L=B>>4;if(L<16)k[U++]=L;else{var M=0,j=0;for(16==L?(j=3+Q(t,h,3),h+=2,M=k[U-1]):17==L?(j=3+Q(t,h,7),h+=3):18==L&&(j=11+Q(t,h,127),h+=7);j--;)k[U++]=M;}}var P=k.subarray(0,w),N=k.subarray(w);g=X(P),v=X(N),p=R(P,g,1),d=R(N,v,1);}else tr(1);}else{var L=Y(h)+4,O=t[L-4]|t[L-3]<<8,q=L+O;if(q>i){l&&tr(0);break;}o&&u(c+O),r.set(t.subarray(L,q),c),e.b=c+=O,e.p=h=8*q,e.f=f;continue;}if(h>y){l&&tr(0);break;}}o&&u(c+131072);for(var z=(1<<g)-1,H=(1<<v)-1,J=h;;J=h){var M=p[Z(t,h)&z],W=M>>4;if((h+=15&M)>y){l&&tr(0);break;}if(M||tr(2),W<256)r[c++]=W;else if(256==W){J=h,p=null;break;}else{var K=W-254;if(W>264){var U=W-257,te=A[U];K=Q(t,h,(1<<te)-1)+D[U],h+=te;}var tn=d[Z(t,h)&H],ti=tn>>4;tn||tr(3),h+=15&tn;var N=$[ti];if(ti>3){var te=C[ti];N+=Z(t,h)&(1<<te)-1,h+=te;}if(h>y){l&&tr(0);break;}o&&u(c+131072);var ta=c+K;if(c<N){var ts=a-N,to=Math.min(N,ta);for(ts+c<0&&tr(3);c<to;++c)r[c]=n[ts+c];}for(;c<ta;++c)r[c]=r[c-N];}}e.l=p,e.p=J,e.b=c,e.f=f,p&&(f=1,e.m=g,e.d=d,e.n=v);}while(!f)return c!=r.length&&s?tt(r,0,c):r.subarray(0,c);},ti=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8;},ta=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16;},ts=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:tp,l:0};if(1==i){var s=new T(r[0].s+1);return s[r[0].s]=1,{t:s,l:1};}r.sort(function(t,e){return t.f-e.f;}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,f=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=i-1;)o=r[r[u].f<r[h].f?u++:h++],l=r[u!=f&&r[u].f<r[h].f?u++:h++],r[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var c=a[0].s,n=1;n<i;++n)a[n].s>c&&(c=a[n].s);var p=new L(c+1),d=to(r[f-1],p,0);if(d>e){var n=0,g=0,v=d-e,y=1<<v;for(a.sort(function(t,e){return p[e.s]-p[t.s]||t.f-e.f;});n<i;++n){var m=a[n].s;if(p[m]>e)g+=y-(1<<d-p[m]),p[m]=e;else break;}for(g>>=v;g>0;){var w=a[n].s;p[w]<e?g-=1<<e-p[w]++-1:++n;}for(;n>=0&&g;--n){var b=a[n].s;p[b]==e&&(--p[b],++g);}d=e;}return{t:new T(p),l:d};},to=function(t,e,r){return -1==t.s?Math.max(to(t.l,e,r+1),to(t.r,e,r+1)):e[t.s]=r;},tl=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new L(++e),n=0,i=t[0],a=1,s=function(t){r[n++]=t;},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0);}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0);}for(;a--;)s(i);a=1,i=t[o];}return{c:r.subarray(0,n),n:e};},tu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r;},tf=function(t,e,r){var n=r.length,i=Y(e+2);t[i]=255&n,t[i+1]=n>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8;},th=function(t,e,r,n,i,a,s,o,l,u,f){ti(e,f++,r),++i[256];for(var h,c,p,d,g=ts(i,15),v=g.t,y=g.l,m=ts(a,15),w=m.t,b=m.l,_=tl(v),k=_.c,I=_.n,U=tl(w),S=U.c,x=U.n,E=new L(19),B=0;B<k.length;++B)++E[31&k[B]];for(var B=0;B<S.length;++B)++E[31&S[B]];for(var T=ts(E,7),M=T.t,j=T.l,P=19;P>4&&!M[F[P-1]];--P);var D=u+5<<3,N=tu(i,H)+tu(a,J)+s,O=tu(i,v)+tu(a,w)+s+14+3*P+tu(E,M)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&D<=N&&D<=O)return tf(e,f,t.subarray(l,l+u));if(ti(e,f,1+(O<N)),f+=2,O<N){h=R(v,y,0),c=v,p=R(w,b,0),d=w;var $=R(M,j,0);ti(e,f,I-257),ti(e,f+5,x-1),ti(e,f+10,P-4),f+=14;for(var B=0;B<P;++B)ti(e,f+3*B,M[F[B]]);f+=3*P;for(var q=[k,S],z=0;z<2;++z)for(var G=q[z],B=0;B<G.length;++B){var V=31&G[B];ti(e,f,$[V]),f+=M[V],V>15&&(ti(e,f,G[B]>>5&127),f+=G[B]>>12);}}else h=W,c=H,p=K,d=J;for(var B=0;B<o;++B){var X=n[B];if(X>255){var V=X>>18&31;ta(e,f,h[V+257]),f+=c[V+257],V>7&&(ti(e,f,X>>23&31),f+=A[V]);var Q=31&X;ta(e,f,p[Q]),f+=d[Q],Q>3&&(ta(e,f,X>>5&8191),f+=C[Q]);}else ta(e,f,h[X]),f+=c[X];}return ta(e,f,h[256]),f+c[256];},tc=/* @__PURE__ */new M([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tp=/* @__PURE__ */new T(0),td=function(t,e,r,n,i,a){var s=a.z||t.length,o=new T(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),u=a.l,f=7&(a.r||0);if(e){f&&(l[0]=a.r>>3);for(var h=tc[e-1],c=h>>13,p=8191&h,d=(1<<r)-1,g=a.p||new L(32768),v=a.h||new L(d+1),y=Math.ceil(r/3),m=2*y,w=function(e){return(t[e]^t[e+1]<<y^t[e+2]<<m)&d;},b=new M(25e3),_=new L(288),k=new L(32),I=0,U=0,S=a.i||0,x=0,E=a.w||0,B=0;S+2<s;++S){var F=w(S),j=32767&S,P=v[F];if(g[j]=P,v[F]=j,E<=S){var D=s-S;if((I>7e3||x>24576)&&(D>423||!u)){f=th(t,l,0,b,_,k,U,x,B,S-B,f),x=I=U=0,B=S;for(var O=0;O<286;++O)_[O]=0;for(var O=0;O<30;++O)k[O]=0;}var $=2,z=0,R=p,H=j-P&32767;if(D>2&&F==w(S-H))for(var J=Math.min(c,D)-1,W=Math.min(32767,S),G=Math.min(258,D);H<=W&&--R&&j!=P;){if(t[S+$]==t[S+$-H]){for(var K=0;K<G&&t[S+K]==t[S+K-H];++K);if(K>$){if($=K,z=H,K>J)break;for(var V=Math.min(H,K-2),X=0,O=0;O<V;++O){var Q=S-H+O&32767,Z=g[Q],te=Q-Z&32767;te>X&&(X=te,P=Q);}}}P=g[j=P],H+=j-P&32767;}if(z){b[x++]=268435456|N[$]<<18|q[z];var tr=31&N[$],tn=31&q[z];U+=A[tr]+C[tn],++_[257+tr],++k[tn],E=S+$,++I;}else b[x++]=t[S],++_[t[S]];}}for(S=Math.max(S,E);S<s;++S)b[x++]=t[S],++_[t[S]];f=th(t,l,u,b,_,k,U,x,B,S-B,f),u||(a.r=7&f|l[f/8|0]<<3,f-=7,a.h=v,a.p=g,a.i=S,a.w=E);}else{for(var S=a.w||0;S<s+u;S+=65535){var ti=S+65535;ti>=s&&(l[f/8|0]=u,ti=s),f=tf(l,f+1,t.subarray(S,ti));}a.i=s;}return tt(o,0,n+Y(f)+i);},tg=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new T(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length;}return td(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,r,n,i);};function tv(t,e){return tg(t,e||{},0,0);}function ty(t,e){return tn(t,{i:2},e&&e.out,e&&e.dictionary);}var tm="undefined"!=typeof TextDecoder&&/* @__PURE__ */new TextDecoder,tw=0;try{tm.decode(tp,{stream:!0}),tw=1;}catch(t){}// src/code-generation/components/cms/bundled/models/DatabaseDictionaryIndexModel.ts
var tb=h(p()),t_=1024,tk=1.5,tI=t=>2**t-1,tU=t=>-(2**(t-1)),tS=t=>2**(t-1)-1,tx={Uint8:0,Uint16:0,Uint32:0,Uint64:0,BigUint64:0,Int8:tU(8),Int16:tU(16),Int32:tU(32),Int64:Number.MIN_SAFE_INTEGER,BigInt64:-(BigInt(2)**BigInt(63))},tE={Uint8:tI(8),Uint16:tI(16),Uint32:tI(32),Uint64:Number.MAX_SAFE_INTEGER,BigUint64:BigInt(2)**BigInt(64)-BigInt(1),Int8:tS(8),Int16:tS(16),Int32:tS(32),Int64:Number.MAX_SAFE_INTEGER,BigInt64:BigInt(2)**BigInt(63)-BigInt(1)};function tB(t,e,r,n){b(t>=e,t,"outside lower bound for",n),b(t<=r,t,"outside upper bound for",n);}var tT=class{getOffset(){return this.offset;}slice(t=0,e=this.offset){return this.buffer.slice(t,e);}subarray(t=0,e=this.offset){return new Uint8Array(this.buffer,t,e);}ensureBufferLength(t){let e=this.buffer.byteLength;if(this.offset+t<=e)return;let r=new ArrayBuffer(Math.ceil(e*tk)+t);tL(this.buffer,r,0),this.buffer=r,this.view=new DataView(r);}writeUint8(t){tB(t,tx.Uint8,tE.Uint8,"Uint8");let e=k.Uint8;this.ensureBufferLength(e),this.view.setUint8(this.offset,t),this.offset+=e;}writeUint16(t){tB(t,tx.Uint16,tE.Uint16,"Uint16");let e=k.Uint16;this.ensureBufferLength(e),this.view.setUint16(this.offset,t),this.offset+=e;}writeUint32(t){tB(t,tx.Uint32,tE.Uint32,"Uint32");let e=k.Uint32;this.ensureBufferLength(e),this.view.setUint32(this.offset,t),this.offset+=e;}writeUint64(t){tB(t,tx.Uint64,tE.Uint64,"Uint64");let e=BigInt(t);this.writeBigUint64(e);}writeBigUint64(t){tB(t,tx.BigUint64,tE.BigUint64,"BigUint64");let e=k.BigUint64;this.ensureBufferLength(e),this.view.setBigUint64(this.offset,t),this.offset+=e;}writeInt8(t){tB(t,tx.Int8,tE.Int8,"Int8");let e=k.Int8;this.ensureBufferLength(e),this.view.setInt8(this.offset,t),this.offset+=e;}writeInt16(t){tB(t,tx.Int16,tE.Int16,"Int16");let e=k.Int16;this.ensureBufferLength(e),this.view.setInt16(this.offset,t),this.offset+=e;}writeInt32(t){tB(t,tx.Int32,tE.Int32,"Int32");let e=k.Int32;this.ensureBufferLength(e),this.view.setInt32(this.offset,t),this.offset+=e;}writeInt64(t){tB(t,tx.Int64,tE.Int64,"Int64");let e=BigInt(t);this.writeBigInt64(e);}writeBigInt64(t){tB(t,tx.BigInt64,tE.BigInt64,"BigInt64");let e=k.BigInt64;this.ensureBufferLength(e),this.view.setBigInt64(this.offset,t),this.offset+=e;}writeFloat32(t){let e=k.Float32;this.ensureBufferLength(e),this.view.setFloat32(this.offset,t),this.offset+=e;}writeFloat64(t){let e=k.Float64;this.ensureBufferLength(e),this.view.setFloat64(this.offset,t),this.offset+=e;}writeBuffer(t){let e=t.byteLength;this.ensureBufferLength(e),tL(t,this.buffer,this.offset),this.offset+=e;}encodeString(t){let e=this.encodedStrings.get(t);if(e)return e;let r=this.encoder.encode(t);return this.encodedStrings.set(t,r),r;}writeString(t){let e=this.encodeString(t),r=e.byteLength;this.writeUint32(r),this.writeBuffer(e);}writeJson(t){let e=JSON.stringify(t);this.writeString(e);}constructor(){this.offset=0,this.buffer=new ArrayBuffer(t_),this.view=new DataView(this.buffer),this.encoder=new TextEncoder,this.encodedStrings=/* @__PURE__ */new Map;}};function tL(t,e,r){let n=new Uint8Array(t),i=new Uint8Array(e);i.set(n,r);}// src/code-generation/components/cms/bundled/models/DatabaseItemPointerModel.ts
var tM=class{static fromString(t){let[e,r,n]=t.split("/").map(Number);return b(S(e),"Invalid chunkId"),b(S(r),"Invalid offset"),b(S(n),"Invalid length"),new tM(e,r,n);}toString(){return`${this.chunkId}/${this.offset}/${this.length}`;}static read(t){let e=t.readUint16(),r=t.readUint32(),n=t.readUint32();return new tM(e,r,n);}write(t){t.writeUint16(this.chunkId),t.writeUint32(this.offset),t.writeUint32(this.length);}compare(t){return this.chunkId<t.chunkId?-1:this.chunkId>t.chunkId?1:this.offset<t.offset?-1:this.offset>t.offset?1:(b(this.length===t.length),0);}constructor(t,e,r){this.chunkId=t,this.offset=e,this.length=r;}};// src/code-generation/components/cms/bundled/models/DatabaseValueModel.ts
import{ControlType as tA}from"framer";function tC(t){if(E(t))return 0/* Null */;switch(t.type){case tA.Array:return 1/* Array */;case tA.Boolean:return 2/* Boolean */;case tA.Color:return 3/* Color */;case tA.Date:return 4/* Date */;case tA.Enum:return 5/* Enum */;case tA.File:return 6/* File */;case tA.ResponsiveImage:return 10/* ResponsiveImage */;case tA.Link:return 7/* Link */;case tA.Number:return 8/* Number */;case tA.Object:return 9/* Object */;case tA.RichText:return 11/* RichText */;case tA.String:return 12/* String */;default:_(t);}}(t=>{t.read=function(t){let e=t.readUint8();switch(e){case 0/* Null */:return null;case 1/* Array */:return tF.read(t);case 2/* Boolean */:return tj.read(t);case 3/* Color */:return tP.read(t);case 4/* Date */:return tD.read(t);case 5/* Enum */:return tN.read(t);case 6/* File */:return tO.read(t);case 7/* Link */:return t$.read(t);case 8/* Number */:return tq.read(t);case 9/* Object */:return tz.read(t);case 10/* ResponsiveImage */:return tR.read(t);case 11/* RichText */:return tH.read(t);case 12/* String */:return tJ.read(t);default:_(e);}},t.write=function(t,e){let r=tC(e);if(t.writeUint8(r),!E(e))switch(e.type){case tA.Array:return tF.write(t,e);case tA.Boolean:return tj.write(t,e);case tA.Color:return tP.write(t,e);case tA.Date:return tD.write(t,e);case tA.Enum:return tN.write(t,e);case tA.File:return tO.write(t,e);case tA.Link:return t$.write(t,e);case tA.Number:return tq.write(t,e);case tA.Object:return tz.write(t,e);case tA.ResponsiveImage:return tR.write(t,e);case tA.RichText:return tH.write(t,e);case tA.String:return tJ.write(t,e);default:_(e);}},t.compare=function(t,e,r){let n=tC(t),i=tC(e);if(n<i)return -1;if(n>i)return 1;if(E(t)||E(e))return 0;switch(t.type){case tA.Array:return b(e.type===tA.Array),tF.compare(t,e,r);case tA.Boolean:return b(e.type===tA.Boolean),tj.compare(t,e,r);case tA.Color:return b(e.type===tA.Color),tP.compare(t,e,r);case tA.Date:return b(e.type===tA.Date),tD.compare(t,e,r);case tA.Enum:return b(e.type===tA.Enum),tN.compare(t,e,r);case tA.File:return b(e.type===tA.File),tO.compare(t,e,r);case tA.Link:return b(e.type===tA.Link),t$.compare(t,e,r);case tA.Number:return b(e.type===tA.Number),tq.compare(t,e,r);case tA.Object:return b(e.type===tA.Object),tz.compare(t,e,r);case tA.ResponsiveImage:return b(e.type===tA.ResponsiveImage),tR.compare(t,e,r);case tA.RichText:return b(e.type===tA.RichText),tH.compare(t,e,r);case tA.String:return b(e.type===tA.String),tJ.compare(t,e,r);default:_(t);}};})(r||(r={}));var tF={read(t){let e=t.readUint16(),n=[];for(let i=0;i<e;i++){let e=r.read(t);n.push(e);}return{type:tA.Array,value:n};},write(t,e){for(let n of(t.writeUint16(e.value.length),e.value))r.write(t,n);},compare(t,e,n){let i=t.value.length,a=e.value.length;if(i<a)return -1;if(i>a)return 1;for(let a=0;a<i;a++){let i=t.value[a],s=e.value[a];b(!x(i),"Left item must exist"),b(!x(s),"Right item must exist");let o=r.compare(i,s,n);if(0!==o)return o;}return 0;}},tj={read:t=>({type:tA.Boolean,value:0!==t.readUint8()}),write(t,e){t.writeUint8(e.value?1:0);},compare:(t,e)=>t.value<e.value?-1:t.value>e.value?1:0},tP={read:t=>({type:tA.Color,value:t.readString()}),write(t,e){t.writeString(e.value);},compare:(t,e)=>t.value<e.value?-1:t.value>e.value?1:0},tD={read(t){let e=t.readInt64(),r=new Date(e);return{type:tA.Date,value:r.toISOString()};},write(t,e){let r=new Date(e.value),n=r.getTime();t.writeInt64(n);},compare(t,e){let r=new Date(t.value),n=new Date(e.value);return r<n?-1:r>n?1:0;}},tN={read:t=>({type:tA.Enum,value:t.readString()}),write(t,e){t.writeString(e.value);},compare:(t,e)=>t.value<e.value?-1:t.value>e.value?1:0},tO={read:t=>({type:tA.File,value:t.readString()}),write(t,e){t.writeString(e.value);},compare:(t,e)=>t.value<e.value?-1:t.value>e.value?1:0},t$={read:t=>({type:tA.Link,value:t.readJson()}),write(t,e){t.writeJson(e.value);},compare(t,e){let r=JSON.stringify(t.value),n=JSON.stringify(e.value);return r<n?-1:r>n?1:0;}},tq={read:t=>({type:tA.Number,value:t.readFloat64()}),write(t,e){t.writeFloat64(e.value);},compare:(t,e)=>t.value<e.value?-1:t.value>e.value?1:0},tz={read(t){let e=t.readUint16(),n={};for(let i=0;i<e;i++){let e=t.readString();n[e]=r.read(t);}return{type:tA.Object,value:n};},write(t,e){let n=Object.entries(e.value);for(let[e,i]of(t.writeUint16(n.length),n))t.writeString(e),r.write(t,i);},compare(t,e,n){let i=Object.keys(t.value).sort(),a=Object.keys(e.value).sort();if(i.length<a.length)return -1;if(i.length>a.length)return 1;for(let s=0;s<i.length;s++){let o=i[s],l=a[s];if(b(!x(o),"Left key must exist"),b(!x(l),"Left key must exist"),o<l)return -1;if(o>l)return 1;let u=t.value[o],f=e.value[l];b(!x(u),"Left value must exist"),b(!x(f),"Right value must exist");let h=r.compare(u,f,n);if(0!==h)return h;}return 0;}},tR={read:t=>({type:tA.ResponsiveImage,value:t.readJson()}),write(t,e){t.writeJson(e.value);},compare(t,e){let r=JSON.stringify(t.value),n=JSON.stringify(e.value);return r<n?-1:r>n?1:0;}},tH={read:t=>({type:tA.RichText,value:t.readUint32()}),write(t,e){t.writeUint32(e.value);},compare(t,e){let r=t.value,n=e.value;return r<n?-1:r>n?1:0;}},tJ={read:t=>({type:tA.String,value:t.readString()}),write(t,e){t.writeString(e.value);},compare(t,e,r){let n=t.value,i=e.value;return(0/* CaseInsensitive */===r.type&&(n=t.value.toLowerCase(),i=e.value.toLowerCase()),n<i)?-1:n>i?1:0;}},tW=class{static deserialize(t){let e=ty(t),n=new I(e.buffer),i=n.readJson(),a=n.readUint8(),s=[];for(let t=0;t<a;t++){let t=n.readString();s.push(t);}let o=new tW(s,{collation:i}),l=n.readUint32();for(let t=0;t<l;t++){let t=[];for(let e=0;e<a;e++){let e=r.read(n);t.push(e);}let e=tM.read(n);o.entries.insert({values:t,pointer:e});}return o;}serialize(){let t=new tT;for(let e of(t.writeJson(this.options.collation),t.writeUint8(this.fieldNames.length),this.fieldNames))t.writeString(e);for(let e of(t.writeUint32(this.entries.size),this.entries)){let{values:n,pointer:i}=e.key;for(let e of n)r.write(t,e);i.write(t);}let e=t.subarray();return tv(e);}addItem(t,e){let r=this.fieldNames.map(e=>{var r;return null!=(r=t.getField(e))?r:null;});this.entries.insert({values:r,pointer:e});}constructor(t,e){this.fieldNames=t,this.options=e,this.entries=new tb.default((t,e)=>{let n=t.values,i=e.values;for(let t=0;t<this.fieldNames.length;t++){let e=n[t],a=i[t];b(!x(e),"Left value must exist"),b(!x(a),"Right value must exist");let s=r.compare(e,a,this.options.collation);if(0!==s)return s;}return t.pointer.compare(e.pointer);});}};// ../../shared/src/murmurHash.ts
function tG(t){let e=3&t.length,r=t.length-e,n=0,i=0;for(;i<r;){let e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24;++i,n^=e=(65535&(e=(e=(65535&e)*3432918353+(((e>>>16)*3432918353&65535)<<16)&4294967295)<<15|e>>>17))*461845907+(((e>>>16)*461845907&65535)<<16)&4294967295,n=n<<13|n>>>19;let r=(65535&n)*5+(((n>>>16)*5&65535)<<16)&4294967295;n=(65535&r)+27492+(((r>>>16)+58964&65535)<<16);}let a=0;return e>=3&&(a^=(255&t.charCodeAt(i+2))<<16),e>=2&&(a^=(255&t.charCodeAt(i+1))<<8),e>=1&&(a^=255&t.charCodeAt(i),n^=a=(65535&(a=(a=(65535&a)*3432918353+(((a>>>16)*3432918353&65535)<<16)&4294967295)<<15|a>>>17))*461845907+(((a>>>16)*461845907&65535)<<16)&4294967295),n^=t.length,n^=n>>>16,n=(65535&n)*2246822507+(((n>>>16)*2246822507&65535)<<16)&4294967295,n^=n>>>13,n=(65535&n)*3266489909+(((n>>>16)*3266489909&65535)<<16)&4294967295,(n^=n>>>16)>>>0;}// src/code-generation/components/cms/bundled/rangeRequest.ts
var tK=h(m()),tV=3,tX=250,tQ=[408,// Request Timeout
429,// Too Many Requests
500,// Internal Server Error
502,// Bad Gateway
503,// Service Unavailable
504],tZ=async(t,e)=>{var r;let n=0;for(;;){try{let r=await fetch(t,e);if(!tQ.includes(r.status)||++n>tV)return r;}catch(t){if((null==(r=null==e?void 0:e.signal)?void 0:r.aborted)||++n>tV)throw t;}await tY(n);}};async function tY(t){let e=Math.floor(tX*(Math.random()+1)*2**(t-1));await new Promise(t=>{setTimeout(t,e);});}// src/code-generation/components/cms/bundled/rangeRequest.ts
var t1="\r\n",t0="--";async function t2(t,e){let r=new URL(t),n=en(e);r.searchParams.set("rangeHash",tG(n).toString(16));let i=await tZ(r,{headers:{Range:n}});if(!i.ok)throw Error(`Request failed: ${i.status} ${i.statusText}`);let a=await i.arrayBuffer(),s=new Uint8Array(a);if(200===i.status)return e.map(t=>{if(t.to>s.length)throw Error("Missing data");return s.slice(t.from,t.to);});if(206===i.status){let t=i.headers.get("Content-Type");if(!t)throw Error("Missing Content-Type header");let r=new t8,n=new tK.default(t);if("multipart"===n.type&&"byteranges"===n.subtype){let t=n.parameters.get("boundary");if(!t)throw Error("Missing boundary parameter");let e=t5(s,t);for(let{headers:t,body:n}of e){let e=t.get("Content-Range");if(!e)throw Error("Missing Content-Range header");let i=t4(e);if("bytes"!==i.unit)throw Error("Unsupported unit");r.write(i.start,n);}}else{let t=i.headers.get("Content-Range");if(!t)throw Error("Missing Content-Range header");let e=t4(t);if("bytes"!==e.unit)throw Error("Unsupported unit");r.write(e.start,s);}return e.map(t=>r.read(t.from,t.to-t.from));}throw Error(`Unsupported response: ${i.status} ${i.statusText}`);}var t6=new TextEncoder,t3=new TextDecoder;function t5(t,e){let r=t6.encode(t0+e),n=t9(t,r);if(x(n))throw Error("Missing parts start");let i=n+r.length,a=t6.encode(t1+t0+e+t0),s=et(t,a);if(x(s))throw Error("Missing parts end");let o=t6.encode(t1+t0+e),l=t.subarray(i,s),u=t7(l,o);return u.map(t=>{let e=t6.encode(t1+t1),r=t9(t,e);if(x(r))throw Error("Missing headers end");let n=t6.encode(t1),i=t.subarray(0,r),a=t7(i,n),s=new Headers;for(let t of a){let e=t3.decode(t),[r,n]=e.split(": ",2);r&&n&&s.append(r,n);}let o=r+e.length,l=t.slice(o);return{headers:s,body:l};});}function t4(t){let e=RegExp("^(?<unit>\\w+) (?<start>\\d+)-(?<end>\\d+)\\/(?<size>\\d+|\\*)$","u").exec(t);if(!e||!e.groups)throw Error("Invalid Content-Range header");let{unit:r,start:n,end:i,size:a}=e.groups;return{unit:r,start:Number(n),end:Number(i),size:"*"!==a?Number(a):null};}var t8=class{read(t,e){for(let r of this.chunks){if(t<r.start)break;if(t>r.end)continue;if(t+e>r.end)break;let n=t-r.start,i=n+e;return r.data.slice(n,i);}throw Error("Missing data");}write(t,e){let r=t,n=r+e.length,i=0,a=this.chunks.length;for(;i<a;i++){let t=this.chunks[i];if(b(t,"Missing chunk"),!(r>t.end)){if(r>t.start){let n=r-t.start,i=t.data.subarray(0,n);e=er(i,e),r=t.start;}break;}}for(;a>i;a--){let t=this.chunks[a-1];if(b(t,"Missing chunk"),!(n<t.start)){if(n<t.end){let r=n-t.start,i=t.data.subarray(r);e=er(e,i),n=t.end;}break;}}let s={start:r,end:n,data:e},o=a-i;this.chunks.splice(i,o,s);}constructor(){this.chunks=[];}};function t7(t,e){var r;let n=[];for(;t.length>0;){let i=null!=(r=t9(t,e))?r:t.length,a=t.subarray(0,i);n.push(a),t=t.subarray(i+e.length);}return n;}function t9(t,e){for(let r=0;r<t.length-e.length;r++){let n=t.subarray(r);if(ee(n,e))return r;}}function et(t,e){for(let r=t.length-e.length;r>=0;r--){let n=t.subarray(r);if(ee(n,e))return r;}}function ee(t,e){for(let r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0;}function er(t,e){let r=t.length+e.length,n=new Uint8Array(r);return n.set(t,0),n.set(e,t.length),n;}function en(t){b(t.length>0,"Must have at least one range");let e=[...t].sort((t,e)=>t.from-e.from),r=[];for(let t of e){let e=r.length-1,n=r[e];n&&t.from<=n.to?r[e]={from:n.from,to:Math.max(n.to,t.to)}:r.push(t);}let n=r.map(t=>`${t.from}-${t.to-1}`);return`bytes=${n.join(",")}`;}// src/code-generation/components/cms/bundled/DatabaseDictionaryIndex.ts
var ei=class{async loadModel(){let[t]=await t2(this.options.url,[this.options.range]);return b(t,"Failed to load model"),tW.deserialize(t);}async getModel(){return null!=this.modelPromise||(this.modelPromise=this.loadModel()),null!=this.model||(this.model=await this.modelPromise),this.model;}async lookupItems(t){var e;b(t.length===this.fields.length,"Invalid query length");let r=t[0];b(r,"Invalid query length");for(let r=1;r<t.length;r++)b((null==(e=t[r])?void 0:e.type)==="All"/* All */,"Unsupported query");let n=await this.getModel();switch(r.type){case"All"/* All */:return this.queryAll(n);case"Equals"/* Equals */:return this.queryEquals(n,r);case"NotEquals"/* NotEquals */:return this.queryNotEquals(n,r);case"LessThan"/* LessThan */:return this.queryLessThan(n,r);case"GreaterThan"/* GreaterThan */:return this.queryGreaterThan(n,r);case"Contains"/* Contains */:return this.queryContains(n,r);case"StartsWith"/* StartsWith */:return this.queryStartsWith(n,r);case"EndsWith"/* EndsWith */:return this.queryEndsWith(n,r);default:_(r);}}findItems(t,e){let r=[];for(let n of t.entries){let t=n.key.values[0];if(b(!x(t),"Value must exist"),!e(t))continue;let i={};for(let t=0;t<this.options.fieldNames.length;t++){let e=n.key.values[t],r=this.options.fieldNames[t];b(!x(e),"Value must exist"),b(!x(r),"Field name must exist"),i[r]=e;}r.push({pointer:n.key.pointer.toString(),data:i});}return r;}queryAll(t){return this.findItems(t,()=>!0);}queryEquals(t,e){return this.findItems(t,t=>0===r.compare(t,e.value,this.collation));}queryNotEquals(t,e){return this.findItems(t,t=>0!==r.compare(t,e.value,this.collation));}queryLessThan(t,e){return this.findItems(t,t=>{let n=r.compare(t,e.value,this.collation);return!B(t)&&(!!e.inclusive&&0===n||n<0);});}queryGreaterThan(t,e){return this.findItems(t,t=>{let n=r.compare(t,e.value,this.collation);return!B(t)&&(!!e.inclusive&&0===n||n>0);});}queryContains(t,e){return this.findItems(t,t=>{var r;if((null==t?void 0:t.type)!==U.String||(null==(r=e.value)?void 0:r.type)!==U.String)return!1;let n=t.value,i=e.value.value;return 0/* CaseInsensitive */===this.collation.type&&(n=n.toLowerCase(),i=i.toLowerCase()),n.includes(i);});}queryStartsWith(t,e){return this.findItems(t,t=>{var r;if((null==t?void 0:t.type)!==U.String||(null==(r=e.value)?void 0:r.type)!==U.String)return!1;let n=t.value,i=e.value.value;return 0/* CaseInsensitive */===this.collation.type&&(n=n.toLowerCase(),i=i.toLowerCase()),n.startsWith(i);});}queryEndsWith(t,e){return this.findItems(t,t=>{var r;if((null==t?void 0:t.type)!==U.String||(null==(r=e.value)?void 0:r.type)!==U.String)return!1;let n=t.value,i=e.value.value;return 0/* CaseInsensitive */===this.collation.type&&(n=n.toLowerCase(),i=i.toLowerCase()),n.endsWith(i);});}constructor(t){this.options=t,this.supportedLookupTypes=["All"/* All */,"Equals"/* Equals */,"NotEquals"/* NotEquals */,"LessThan"/* LessThan */,"GreaterThan"/* GreaterThan */,"Contains"/* Contains */,"StartsWith"/* StartsWith */,"EndsWith"/* EndsWith */],this.collation=this.options.collation;let e={},r=[];for(let t of this.options.fieldNames){let n=this.options.collectionSchema[t];b(n,"Missing definition for field",t),e[t]=n,r.push({type:"Identifier",name:t});}this.schema=e,this.fields=r;}},ea=class{static read(t,e){let n=new ea,i=t.readUint32(),a=t.readBuffer(i),s=ty(new Uint8Array(a),{dictionary:e}),o=new I(s.buffer),l=o.readUint16();for(let t=0;t<l;t++){let t=o.readString(),e=r.read(o);n.setField(t,e);}return n;}writeUncompressed(t){for(let[e,n]of(t.writeUint16(this.fields.size),this.fields))t.writeString(e),r.write(t,n);}write(t,e){let r=new tT;this.writeUncompressed(r);let n=tv(r.subarray(),{dictionary:e});t.writeUint32(n.byteLength),t.writeBuffer(n);}getData(){let t={};for(let[e,r]of this.fields)t[e]=r;return t;}setField(t,e){this.fields.set(t,e);}getField(t){return this.fields.get(t);}constructor(){this.fields=/* @__PURE__ */new Map;}},es=class{scanItems(){return null!=this.itemsPromise||(this.itemsPromise=Promise.all([tZ(this.url),this.getCompressionDictionary()]).then(async([t,e])=>{if(!t.ok)throw Error(`Request failed: ${t.status} ${t.statusText}`);let r=await t.arrayBuffer(),n=new I(r),i=[],a=n.readUint32();for(let t=0;t<a;t++){let t=n.getOffset(),r=ea.read(n,e),a=n.getOffset()-t,s=new tM(this.id,t,a),o=s.toString(),l={pointer:o,data:r.getData()};this.itemLoader.prime(o,l),i.push(l);}return i;})),this.itemsPromise;}resolveItem(t){return this.itemLoader.load(t);}getCompressionDictionary(){let t=this.compressionDictionaryCache.get(this.compressionDictionaryUrl);if(t)return t;let e=tZ(this.compressionDictionaryUrl).then(async t=>{if(!t.ok)throw Error(`Compression dictionary request failed: ${t.status} ${t.statusText}`);let e=await t.arrayBuffer();return new Uint8Array(e);});return this.compressionDictionaryCache.set(this.compressionDictionaryUrl,e),e;}constructor(t,e,r,n){this.id=t,this.url=e,this.compressionDictionaryUrl=r,this.compressionDictionaryCache=n,this.itemLoader=new w.default(async t=>{let e=t.map(t=>{let e=tM.fromString(t);return{from:e.offset,to:e.offset+e.length};}),[r,n]=await Promise.all([t2(this.url,e),this.getCompressionDictionary()]);return r.map((e,r)=>{let i=new I(e.buffer),a=ea.read(i,n),s=t[r];return b(s,"Missing pointer"),{pointer:s,data:a.getData()};});});}},eo=class{async scanItems(){let t=await Promise.all(this.chunks.map(async t=>t.scanItems()));return t.flat();}async resolveItems(t){return Promise.all(t.map(t=>{let e=tM.fromString(t),r=this.chunks[e.chunkId];return b(r,"Missing chunk"),r.resolveItem(t);}));}compareItems(t,e){let r=tM.fromString(t.pointer),n=tM.fromString(e.pointer);return r.compare(n);}compareValues(t,e,n){return r.compare(t,e,n);}constructor(t){this.options=t,this.schema=this.options.schema,this.indexes=this.options.indexes,this.resolveRichText=this.options.resolveRichText;let e=/* @__PURE__ */new Map;this.chunks=this.options.chunks.map((t,r)=>new es(r,t,this.options.compressionDictionary,e));}};export{eo as DatabaseCollection,ei as DatabaseDictionaryIndex};/*! Bundled license information:

splaytree/dist/splay.js:
  (**
   * splaytree v3.1.2
   * Fast Splay tree for Node and browser
   *
   * @author Alexander Milevski <info@w8r.name>
   * @license MIT
   * @preserve
   *)
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation. All rights reserved.
      Licensed under the Apache License, Version 2.0 (the "License"); you may not use
      this file except in compliance with the License. You may obtain a copy of the
      License at http://www.apache.org/licenses/LICENSE-2.0
  
      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
      WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
      MERCHANTABLITY OR NON-INFRINGEMENT.
  
      See the Apache Version 2.0 License for specific language governing permissions
      and limitations under the License.
      ***************************************************************************** *)
*/
export const __FramerMetadata__ = {"exports":{"DatabaseDictionaryIndex":{"type":"variable","annotations":{"framerContractVersion":"1"}},"DatabaseCollection":{"type":"variable","annotations":{"framerContractVersion":"1"}},"__FramerMetadata__":{"type":"variable"}}}